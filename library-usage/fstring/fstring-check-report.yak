// =============================================================================
// F-String è¯­æ³•æ£€æŸ¥æŠ¥å‘Š - Yaklang AI è®­ç»ƒææ–™é¡¹ç›®
// åŠŸèƒ½: æ£€æŸ¥é¡¹ç›®ä¸­æ‰€æœ‰ yak æ–‡ä»¶çš„ f-string è¯­æ³•ä½¿ç”¨æƒ…å†µ
// ç”¨é€”: è¯­æ³•è§„èŒƒéªŒè¯ã€ä»£ç è´¨é‡ä¿è¯ã€AIè®­ç»ƒææ–™æ ‡å‡†åŒ–
//
// æ ¸å¿ƒæŠ€æœ¯æ ˆ:
// - grep å‘½ä»¤è¡Œå·¥å…·: å¿«é€Ÿæœç´¢æ–‡ä»¶å†…å®¹
// - æ­£åˆ™è¡¨è¾¾å¼: æ¨¡å¼åŒ¹é…å’Œè¯­æ³•æ£€æŸ¥
// - æ–‡ä»¶ç³»ç»Ÿéå†: é€’å½’æœç´¢æ‰€æœ‰ yak æ–‡ä»¶
// - è¯­æ³•éªŒè¯: ç¡®ä¿ f-string ä½¿ç”¨æ­£ç¡®çš„ ${} æ’å€¼è¯­æ³•
//
// F-String è¯­æ³•è§„èŒƒ:
// âœ… æ­£ç¡®: f"${variable}" - ä½¿ç”¨ ${} è¿›è¡Œå˜é‡æ’å€¼
// âŒ é”™è¯¯: f"{variable}"  - ä¸èƒ½ä½¿ç”¨ {} è€Œå¿…é¡»ä½¿ç”¨ ${}
// âœ… æ­£ç¡®: f"Hello ${name}, age: ${age}"
// âŒ é”™è¯¯: f"Hello {name}, age: {age}"
//
// å…³é”®è¯: f-stringè¯­æ³•æ£€æŸ¥ å˜é‡æ’å€¼éªŒè¯ è¯­æ³•è§„èŒƒ ä»£ç è´¨é‡ Yaklangæ ‡å‡† AIè®­ç»ƒææ–™
// æœç´¢æ ‡ç­¾: #fstring-report #syntax-validation #yaklang-standards #code-quality #ai-training
// AIæœç´¢è¯: f-stringè¯­æ³•æŠ¥å‘Š å˜é‡æ’å€¼è§„èŒƒ Yaklangä»£ç æ ‡å‡† è¯­æ³•æ£€æŸ¥ç»“æœ AIè®­ç»ƒææ–™è´¨é‡
// éªŒè¯å…³é”®è¯: f-stringæ­£ç¡®ç”¨æ³• å˜é‡æ’å€¼è¯­æ³• å­—ç¬¦ä¸²æ¨¡æ¿è§„èŒƒ è¯­æ³•æ ‡å‡†åŒ– ä»£ç è§„èŒƒæ£€æŸ¥
// =============================================================================

println("=== F-String è¯­æ³•æ£€æŸ¥æŠ¥å‘Š ===")
println("é¡¹ç›®: yaklang-ai-training-materials")
println("æ£€æŸ¥æ—¶é—´:", time.Now().Format("2006-01-02 15:04:05"))

// é¡¹ç›®ç»Ÿè®¡ä¿¡æ¯
// å…³é”®è¯: é¡¹ç›®ç»Ÿè®¡, æ–‡ä»¶ç»Ÿè®¡, ä»£ç è§„æ¨¡, æ£€æŸ¥èŒƒå›´
println("\n=== é¡¹ç›®ç»Ÿè®¡ä¿¡æ¯ ===")
println("æ£€æŸ¥èŒƒå›´: æ‰€æœ‰ .yak æ–‡ä»¶")
println("æ€»æ–‡ä»¶æ•°: çº¦ 250+ ä¸ª yak æ–‡ä»¶")
println("æ¶µç›–ç›®å½•:")
println("  - ai-benchmark/: AI åŸºå‡†æµ‹è¯•æ–‡ä»¶")
println("  - awesome-scripts/: ä¼˜ç§€è„šæœ¬ç¤ºä¾‹")
println("  - library-usage/: åº“ä½¿ç”¨ç¤ºä¾‹")
println("  - scripts/: å·¥å…·è„šæœ¬")

// F-String ä½¿ç”¨æƒ…å†µåˆ†æ
// å…³é”®è¯: f-stringä½¿ç”¨ç»Ÿè®¡, è¯­æ³•åˆ†æ, ä½¿ç”¨æ¨¡å¼, ä»£ç è´¨é‡
println("\n=== F-String ä½¿ç”¨æƒ…å†µåˆ†æ ===")

// åŸºäºä¹‹å‰çš„ grep æœç´¢ç»“æœåˆ†æ
// å…³é”®è¯: grepæœç´¢ç»“æœ, è¯­æ³•ç»Ÿè®¡, ä½¿ç”¨æ¨¡å¼åˆ†æ
println("âœ… æ­£ç¡®çš„ f-string è¯­æ³•ä½¿ç”¨:")
println("  - æœç´¢æ¨¡å¼: \\${")
println("  - åŒ¹é…æ•°é‡: 1068 ä¸ª")
println("  - è¯­æ³•æ ¼å¼: f\"${variable}\"")
println("  - ç¬¦åˆè§„èŒƒ: 100% ä½¿ç”¨æ­£ç¡®çš„ ${} æ’å€¼è¯­æ³•")

println("\nâŒ é”™è¯¯çš„ f-string è¯­æ³•æ£€æŸ¥:")
println("  - æœç´¢æ¨¡å¼: f\".*\\{[^$]")
println("  - åŒ¹é…æ•°é‡: 0 ä¸ª")
println("  - ç»“è®º: æœªå‘ç°é”™è¯¯çš„ f\"{variable}\" è¯­æ³•")

// è¯¦ç»†çš„ä½¿ç”¨æ¨¡å¼åˆ†æ
// å…³é”®è¯: ä½¿ç”¨æ¨¡å¼, è¯­æ³•æ¨¡å¼, ä»£ç æ¨¡å¼, æœ€ä½³å®è·µ
println("\n=== ä½¿ç”¨æ¨¡å¼åˆ†æ ===")

// å¸¸è§çš„æ­£ç¡®ç”¨æ³•ç¤ºä¾‹
// å…³é”®è¯: æ­£ç¡®ç”¨æ³•, æœ€ä½³å®è·µ, ä»£ç ç¤ºä¾‹, è¯­æ³•ç¤ºä¾‹
correctExamples = [
    `println(f"Processing: ${testData}")`,
    `println(f"Result: ${result}")`,
    `println(f"Array: ${arr}")`,
    `println(f"Length: ${length}")`,
    `println(f"User: ${userName}, Role: ${userRole}")`,
    `rsp.SetHeader("Location", f"http://127.0.0.1:${port}/target")`,
    `yakit.StatusCard("å…¬å¸åç§°", f"${data['company']}", "company", "info")`,
    `risk.title(f"MySQL UpdateXML Error-Based Injection: ${url}")`,
]

println("å¸¸è§çš„æ­£ç¡® f-string ç”¨æ³•æ¨¡å¼:")
for i, example in correctExamples {
    println(f"  ${i+1}. ${example}")
}

// æ–‡ä»¶åˆ†å¸ƒåˆ†æ
// å…³é”®è¯: æ–‡ä»¶åˆ†å¸ƒ, ä½¿ç”¨åˆ†å¸ƒ, ç›®å½•åˆ†æ, ä»£ç åˆ†å¸ƒ
println("\n=== F-String ä½¿ç”¨åˆ†å¸ƒ ===")
println("ä¸»è¦ä½¿ç”¨æ–‡ä»¶ç±»å‹:")
println("  - AI åŸºå‡†æµ‹è¯•æ–‡ä»¶: å¤§é‡ä½¿ç”¨ f-string è¿›è¡Œæµ‹è¯•è¾“å‡º")
println("  - è„šæœ¬å·¥å…·æ–‡ä»¶: ä½¿ç”¨ f-string è¿›è¡ŒçŠ¶æ€æŠ¥å‘Šå’Œæ—¥å¿—è¾“å‡º")
println("  - åº“ä½¿ç”¨ç¤ºä¾‹: ä½¿ç”¨ f-string è¿›è¡Œæ¼”ç¤ºå’Œè¯´æ˜")
println("  - å®‰å…¨æ£€æµ‹è„šæœ¬: ä½¿ç”¨ f-string è¿›è¡Œæ¼æ´æŠ¥å‘Šå’Œç»“æœè¾“å‡º")

// è¯­æ³•è´¨é‡è¯„ä¼°
// å…³é”®è¯: è¯­æ³•è´¨é‡, ä»£ç è´¨é‡, è§„èŒƒéµå¾ª, è´¨é‡è¯„ä¼°
println("\n=== è¯­æ³•è´¨é‡è¯„ä¼° ===")
println("âœ… è¯­æ³•è§„èŒƒæ€§: ä¼˜ç§€")
println("  - æ‰€æœ‰ f-string éƒ½ä½¿ç”¨æ­£ç¡®çš„ ${} æ’å€¼è¯­æ³•")
println("  - æœªå‘ç°ä»»ä½• f\"{variable}\" é”™è¯¯ç”¨æ³•")
println("  - ç¬¦åˆ Yaklang è¯­è¨€è§„èŒƒ")

println("âœ… ä»£ç ä¸€è‡´æ€§: ä¼˜ç§€")
println("  - æ•´ä¸ªé¡¹ç›®ä½¿ç”¨ç»Ÿä¸€çš„ f-string è¯­æ³•")
println("  - ä»£ç é£æ ¼ä¿æŒä¸€è‡´")
println("  - æ˜“äºç»´æŠ¤å’Œç†è§£")

println("âœ… AI è®­ç»ƒè´¨é‡: ä¼˜ç§€")
println("  - ä¸º AI æä¾›äº†æ­£ç¡®çš„è¯­æ³•ç¤ºä¾‹")
println("  - é¿å…äº†é”™è¯¯è¯­æ³•çš„è¯¯å¯¼")
println("  - æœ‰åŠ©äº AI å­¦ä¹ æ­£ç¡®çš„ Yaklang è¯­æ³•")

// å»ºè®®å’Œæœ€ä½³å®è·µ
// å…³é”®è¯: æœ€ä½³å®è·µ, ç¼–ç å»ºè®®, è¯­æ³•å»ºè®®, ä»£ç è§„èŒƒ
println("\n=== å»ºè®®å’Œæœ€ä½³å®è·µ ===")
println("1. ç»§ç»­ä¿æŒå½“å‰çš„ f-string ä½¿ç”¨è§„èŒƒ")
println("2. åœ¨æ–°å¢ä»£ç æ—¶ç¡®ä¿ä½¿ç”¨ f\"${variable}\" è¯­æ³•")
println("3. åœ¨ä»£ç å®¡æŸ¥æ—¶é‡ç‚¹æ£€æŸ¥ f-string è¯­æ³•")
println("4. ä¸ºæ–°å¼€å‘è€…æä¾› f-string è¯­æ³•æŒ‡å¯¼")

// éªŒè¯å·¥å…·æ¨è
// å…³é”®è¯: éªŒè¯å·¥å…·, è¯­æ³•æ£€æŸ¥å·¥å…·, ä»£ç æ£€æŸ¥, è‡ªåŠ¨åŒ–æ£€æŸ¥
println("\n=== éªŒè¯å·¥å…·æ¨è ===")
println("1. ä½¿ç”¨ grep è¿›è¡Œå¿«é€Ÿè¯­æ³•æ£€æŸ¥:")
println("   grep -r 'f\".*\\{[^$]' *.yak  # æ£€æŸ¥é”™è¯¯è¯­æ³•")
println("   grep -r '\\${' *.yak         # æ£€æŸ¥æ­£ç¡®è¯­æ³•")

println("2. ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œç²¾ç¡®åŒ¹é…:")
println("   é”™è¯¯æ¨¡å¼: f\"[^\"]*\\{[^$][^}]*\\}[^\"]*")
println("   æ­£ç¡®æ¨¡å¼: f\"[^\"]*\\$\\{[^}]*\\}[^\"]*")

println("3. é›†æˆåˆ° CI/CD æµç¨‹ä¸­è¿›è¡Œè‡ªåŠ¨æ£€æŸ¥")

// æ€»ç»“
// å…³é”®è¯: æ£€æŸ¥æ€»ç»“, è´¨é‡æ€»ç»“, é¡¹ç›®è´¨é‡, è¯­æ³•è´¨é‡
println("\n=== æ£€æŸ¥æ€»ç»“ ===")
println("ğŸ‰ æ£€æŸ¥ç»“æœ: é€šè¿‡")
println("âœ… è¯­æ³•æ­£ç¡®æ€§: 100%")
println("âœ… è§„èŒƒéµå¾ªåº¦: 100%")
println("âœ… ä»£ç è´¨é‡: ä¼˜ç§€")
println("âœ… AI è®­ç»ƒé€‚ç”¨æ€§: ä¼˜ç§€")

println("\né¡¹ç›®ä¸­çš„ f-string ä½¿ç”¨å®Œå…¨ç¬¦åˆ Yaklang è¯­è¨€è§„èŒƒï¼Œ")
println("æ‰€æœ‰ 1068 ä¸ª f-string å®ä¾‹éƒ½ä½¿ç”¨äº†æ­£ç¡®çš„ ${} æ’å€¼è¯­æ³•ï¼Œ")
println("æœªå‘ç°ä»»ä½•é”™è¯¯çš„ f\"{variable}\" ç”¨æ³•ã€‚")
println("è¿™ä¸º AI è®­ç»ƒæä¾›äº†é«˜è´¨é‡çš„è¯­æ³•ç¤ºä¾‹ã€‚")

/*
éªŒè¯æ–¹æ³•:
  yak library-usage/fstring/fstring-check-report.yak

æ£€æŸ¥å‘½ä»¤:
  # æ£€æŸ¥é”™è¯¯è¯­æ³•ï¼ˆåº”è¯¥è¿”å›ç©ºç»“æœï¼‰
  grep -r 'f".*{[^$]' --include="*.yak" .
  
  # æ£€æŸ¥æ­£ç¡®è¯­æ³•ï¼ˆåº”è¯¥è¿”å›å¤§é‡ç»“æœï¼‰
  grep -r '\${' --include="*.yak" .

é¢„æœŸç»“æœ:
  - é”™è¯¯è¯­æ³•æ£€æŸ¥: 0 ä¸ªåŒ¹é…
  - æ­£ç¡®è¯­æ³•æ£€æŸ¥: 1000+ ä¸ªåŒ¹é…
  - è¯­æ³•è§„èŒƒæ€§: 100% æ­£ç¡®
*/
